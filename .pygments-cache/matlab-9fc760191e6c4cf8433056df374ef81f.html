<div class="highlight"><pre><span class="n">file</span><span class="p">=</span><span class="s">&#39;FERET-&#39;</span><span class="p">;</span>
<span class="n">N</span><span class="p">=</span>150<span class="p">;</span>
<span class="n">M</span><span class="p">=</span>80<span class="p">;</span>
<span class="n">Image</span><span class="p">=</span><span class="nb">zeros</span><span class="p">(</span><span class="n">M</span><span class="o">*</span><span class="n">M</span><span class="p">,</span><span class="n">N</span><span class="p">);</span>

<span class="n">average</span><span class="p">=</span><span class="nb">zeros</span><span class="p">(</span><span class="n">M</span><span class="o">*</span><span class="n">M</span><span class="p">,</span>1<span class="p">);</span>
<span class="c">% read face image</span>
<span class="k">for</span> <span class="nb">i</span> <span class="p">=</span> 1<span class="p">:</span><span class="n">N</span>
   <span class="n">t</span><span class="p">=</span><span class="n">imread</span><span class="p">([</span><span class="n">file</span><span class="p">,</span><span class="n">num2str</span><span class="p">(</span><span class="nb">i</span><span class="p">,</span><span class="s">&#39;%03d&#39;</span><span class="p">),</span><span class="s">&#39;.tif&#39;</span><span class="p">]);</span>
   <span class="n">t</span><span class="p">=</span><span class="nb">reshape</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">M</span><span class="o">*</span><span class="n">M</span><span class="p">,</span>1<span class="p">);</span>
   <span class="n">Image</span><span class="p">(:,</span><span class="nb">i</span><span class="p">)=</span><span class="n">t</span><span class="p">;</span>
   <span class="n">average</span><span class="p">=</span><span class="n">average</span><span class="o">+</span><span class="n">Image</span><span class="p">(:,</span><span class="nb">i</span><span class="p">);</span>
<span class="k">end</span>
</pre>
</div>
